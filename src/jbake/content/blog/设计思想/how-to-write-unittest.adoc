= 如何有效的书写项目单元测试
杨晓辰
2019-05-09
// :toc: left
:toclevels: 4
:icons: font
:sectnums:
:jbake-type: post
:jbake-tags: code&think
:jbake-status: published

== 前言
不知道大家知否会在业务项目里写单元测试, 来测试业务逻辑和流程的正确性?

从我工作的经历来看, 很少遇到有开发者这么做.

是什么原因呢? 

* 依赖于其他组件, 比如 db, redis, zk, mq 等.
* 依赖于其他系统, 比如账户中心, 支付中心.
* 业务数据难以构造, 通常需要特定数据才能测试某一场景, 而生成特定数据的前置流程很长.

基于以上原因, 造成测试写起来很费劲, 有很难做到可重复执行.

我近两年在几个业务项目中都尝试编写了单元测试, 并且收到了不错的效果, 今天这篇文章, 我把相关的经验, 归纳总结出来, 供大家参考.

== 测试带来的好处

我之所以坚持给业务项目写单元测试, 是因为我确确实实尝到了甜头.

== 如何写业务单元测试

=== 配置一个项目的单测运行环境

=== 单元测试基础类

==== 数据模板

==== 便捷业务操作方法

==== mock 方法

=== 测试内容

==== 业务逻辑

==== 接口

=== 其他场景的测试

=== 总结

=== demo