<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>jooq 介绍</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="yxc023@qq.com">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Michael的文档</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
             <li><a href="../../index.html">首页</a></li> 
            <li><a href="../../wiki_gradle_index.html">gradle</a></li>
            <li><a href="../../tags/git.html">git</a></li>
            <li><a href="../../tags/spring.html">spring</a></li>
            <li><a href="../../archive.html">archive</a></li>

            <li><a href="https://github.com/yxc023/jbake">my jbake</a></li>

            <li><a href="../../about.html">关于</a></li>


          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">	
	<div class="page-header">
		<h1>jooq 介绍</h1>
	</div>

	<p><em>04 四月 2018</em></p>

	<p><div id="toc" class="toc"> 
 <div id="toctitle">
  Table of Contents
 </div> 
 <ul class="sectlevel1"> 
  <li><a href="#_前言">前言</a> 
   <ul class="sectlevel2"> 
    <li><a href="#_jpa_hibernate">jpa, hibernate</a></li> 
    <li><a href="#_mybatis">mybatis</a></li> 
    <li><a href="#_jdbctemplate">jdbcTemplate</a></li> 
   </ul> </li> 
  <li><a href="#_我们的项目">我们的项目</a></li> 
  <li><a href="#_in_php">in php</a></li> 
  <li><a href="#_in_groovy">in groovy</a></li> 
  <li><a href="#_使用方式">使用方式</a></li> 
  <li><a href="#_缺点">缺点</a> 
   <ul class="sectlevel2"> 
    <li><a href="#_性能">性能</a></li> 
    <li><a href="#_商业化版本">商业化版本</a></li> 
    <li><a href="#_学习成本">学习成本</a></li> 
   </ul> </li> 
  <li><a href="#_提出的问题">提出的问题</a></li> 
 </ul> 
</div> 
<div class="sect1"> 
 <h2 id="_前言">前言</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>几乎每一个 java 程序员都要跟数据库打交道. 最常用的就是通过 java 的 jdbc 来跟数据库进行交互操作.</p> 
  </div> 
  <div class="paragraph"> 
   <p>而 jdbc 本身比较底层, 写起来比较繁琐, 于是产生了很多数据库抽象层的框架或者工具. 比如 JPA, Hibernate, Mybatis 等等.</p> 
  </div> 
  <div class="paragraph"> 
   <p>今天介绍的 JOOQ 也是这样一个框架</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="_jpa_hibernate">jpa, hibernate</h3> 
   <div class="ulist"> 
    <ul> 
     <li> <p>复杂, 不灵活</p> </li> 
     <li> <p>隐藏了 sql</p> </li> 
     <li> <p>jSQL, HQL</p> </li> 
    </ul> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_mybatis">mybatis</h3> 
   <div class="ulist"> 
    <ul> 
     <li> <p>xml 繁杂</p> </li> 
     <li> <p>注解配置不直观</p> </li> 
     <li> <p>虽然可以codegen, 但复杂的不支持.</p> </li> 
    </ul> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_jdbctemplate">jdbcTemplate</h3> 
   <div class="ulist"> 
    <ul> 
     <li> <p>typesafe 不保证</p> </li> 
     <li> <p>mapper 自己实现</p> </li> 
    </ul> 
   </div> 
   <div class="quoteblock"> 
    <blockquote> 
     <div class="paragraph"> 
      <p>SQL was never meant to be object-oriented. SQL was never meant to be anything other than…​ SQL!</p> 
     </div> 
    </blockquote> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_我们的项目">我们的项目</h2> 
 <div class="sectionbody"> 
  <div class="ulist"> 
   <ul> 
    <li> <p>50% ~ 80% curd</p> </li> 
    <li> <p>20% ~ 50% query</p> </li> 
   </ul> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_in_php">in php</h2> 
 <div class="sectionbody"> 
  <div class="ulist"> 
   <ul> 
    <li> <p>pdo 直接写 sql</p> </li> 
    <li> <p>Eloquent ORM</p> </li> 
   </ul> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code class="language-php" data-lang="php">$results = DB::select('select * from users where id = :id', ['id' =&gt; 1]);

$price = DB::table('orders')
                -&gt;where('finalized', 1)
                -&gt;avg('price');</code></pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_in_groovy">in groovy</h2> 
 <div class="sectionbody"> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def taxRows = sql.rows("select * from product_tax where (product_id = ? or category_id = ?) AND ? &gt;= stime AND ? &lt;= etime",
                    [productId, categoryId, orderTime, orderTime])</code></pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_使用方式">使用方式</h2> 
 <div class="sectionbody"> 
  <div class="ulist"> 
   <ul> 
    <li> <p>sql builder</p> </li> 
    <li> <p>sql executor</p> </li> 
    <li> <p>typesafe executor</p> </li> 
    <li> <p>curd</p> </li> 
    <li> <p>use with other</p> </li> 
   </ul> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_缺点">缺点</h2> 
 <div class="sectionbody"> 
  <div class="sect2"> 
   <h3 id="_性能">性能</h3> 
   <div class="ulist"> 
    <ul> 
     <li> <p>construct jOOQ queries</p> </li> 
     <li> <p>render SQL strings</p> </li> 
     <li> <p>bind values to prepared statements</p> </li> 
     <li> <p>fetch results</p> </li> 
    </ul> 
   </div> 
   <div class="quoteblock"> 
    <blockquote> 
     <div class="paragraph"> 
      <p>jOOQ’s overhead compared to plain JDBC is typically less than 1ms per query.</p> 
     </div> 
    </blockquote> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_商业化版本">商业化版本</h3> 
   <div class="paragraph"> 
    <p>针对商业数据库</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_学习成本">学习成本</h3> 
   <div class="paragraph"> 
    <p> * 生成器配置比较复杂. 但可以配置为常用场景. * 写法需要看文档.</p> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_提出的问题">提出的问题</h2> 
 <div class="sectionbody"> 
  <div class="olist arabic"> 
   <ol class="arabic"> 
    <li> <p>不是直接通过 sql 查问题点</p> 
     <div class="literalblock"> 
      <div class="content"> 
       <pre>log 的问题.  mybatis 也是同样问题: &lt;include&gt; , 动态 SQL</pre> 
      </div> 
     </div> </li> 
    <li> <p>java8以上</p> </li> 
   </ol> 
  </div> 
 </div> 
</div></p>

	<hr />
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2017 | Michael Yang</p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../js/jquery-1.11.1.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/prettify.js"></script>
    
  </body>
</html>